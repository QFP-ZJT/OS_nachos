<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="zh">
<head>
<!-- Generated by javadoc (1.8.0_91) on Tue Sep 05 00:06:00 CST 2017 -->
<title>UserProcess</title>
<meta name="date" content="2017-09-05">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="UserProcess";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":9,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10};
var tabs = {65535:["t0","所有方法"],1:["t1","静态方法"],2:["t2","实例方法"],8:["t4","具体方法"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>您的浏览器已禁用 JavaScript。</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="跳过导航链接">跳过导航链接</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../deprecated-list.html">已过时</a></li>
<li><a href="../../index-all.html">索引</a></li>
<li><a href="../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../nachos/userprog/UserKernel.html" title="nachos.userprog中的类"><span class="typeNameLink">上一个类</span></a></li>
<li><a href="../../nachos/userprog/UThread.html" title="nachos.userprog中的类"><span class="typeNameLink">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?nachos/userprog/UserProcess.html" target="_top">框架</a></li>
<li><a href="UserProcess.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li>嵌套&nbsp;|&nbsp;</li>
<li><a href="#field.summary">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li><a href="#field.detail">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">方法</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">nachos.userprog</div>
<h2 title="类 UserProcess" class="title">类 UserProcess</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="java.lang中的类或接口">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>nachos.userprog.UserProcess</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>直接已知子类:</dt>
<dd><a href="../../nachos/vm/VMProcess.html" title="nachos.vm中的类">VMProcess</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">UserProcess</span>
extends <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="java.lang中的类或接口">Object</a></pre>
<div class="block">Encapsulates the state of a user process that is not contained in its
 user thread (or threads). This includes its address translation state, a
 file table, and information about the program being executed.

 <p>
 This class is extended by other classes to support additional functionality
 (such as additional syscalls).</div>
<dl>
<dt><span class="seeLabel">另请参阅:</span></dt>
<dd><a href="../../nachos/vm/VMProcess.html" title="nachos.vm中的类"><code>VMProcess</code></a>, 
<a href="../../nachos/network/NetProcess.html" title="nachos.network中的类"><code>NetProcess</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>字段概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="字段概要表, 列表字段和解释">
<caption><span>字段</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">字段和说明</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../nachos/machine/Coff.html" title="nachos.machine中的类">Coff</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../nachos/userprog/UserProcess.html#coff">coff</a></span></code>
<div class="block">The program being run by this process.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../nachos/userprog/UserProcess.html#numPages">numPages</a></span></code>
<div class="block">The number of contiguous pages occupied by the program.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../nachos/machine/TranslationEntry.html" title="nachos.machine中的类">TranslationEntry</a>[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../nachos/userprog/UserProcess.html#pageTable">pageTable</a></span></code>
<div class="block">This process's page table.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../nachos/userprog/UserProcess.html#stackPages">stackPages</a></span></code>
<div class="block">The number of pages in the program's stack.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>构造器概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="构造器概要表, 列表构造器和解释">
<caption><span>构造器</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">构造器和说明</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../nachos/userprog/UserProcess.html#UserProcess--">UserProcess</a></span>()</code>
<div class="block">Allocate a new process.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>方法概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="方法概要表, 列表方法和解释">
<caption><span id="t0" class="activeTableTab"><span>所有方法</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">静态方法</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">实例方法</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">具体方法</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">方法和说明</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../nachos/userprog/UserProcess.html#execute-java.lang.String-java.lang.String:A-">execute</a></span>(<a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&nbsp;name,
       <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>[]&nbsp;args)</code>
<div class="block">Execute the specified program with the specified arguments.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../nachos/userprog/UserProcess.html#handleException-int-">handleException</a></span>(int&nbsp;cause)</code>
<div class="block">Handle a user exception.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../nachos/userprog/UserProcess.html#handleSyscall-int-int-int-int-int-">handleSyscall</a></span>(int&nbsp;syscall,
             int&nbsp;a0,
             int&nbsp;a1,
             int&nbsp;a2,
             int&nbsp;a3)</code>
<div class="block">Handle a syscall exception.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../nachos/userprog/UserProcess.html#initRegisters--">initRegisters</a></span>()</code>
<div class="block">Initialize the processor's registers in preparation for running the
 program loaded into this process.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../nachos/userprog/UserProcess.html#loadSections--">loadSections</a></span>()</code>
<div class="block">Allocates memory for this process, and loads the COFF sections into
 memory.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>static <a href="../../nachos/userprog/UserProcess.html" title="nachos.userprog中的类">UserProcess</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../nachos/userprog/UserProcess.html#newUserProcess--">newUserProcess</a></span>()</code>
<div class="block">Allocate and return a new process of the correct class.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../nachos/userprog/UserProcess.html#readVirtualMemory-int-byte:A-">readVirtualMemory</a></span>(int&nbsp;vaddr,
                 byte[]&nbsp;data)</code>
<div class="block">Transfer data from this process's virtual memory to all of the specified
 array.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../nachos/userprog/UserProcess.html#readVirtualMemory-int-byte:A-int-int-">readVirtualMemory</a></span>(int&nbsp;vaddr,
                 byte[]&nbsp;data,
                 int&nbsp;offset,
                 int&nbsp;length)</code>
<div class="block">Transfer data from this process's virtual memory to the specified array.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../nachos/userprog/UserProcess.html#readVirtualMemoryString-int-int-">readVirtualMemoryString</a></span>(int&nbsp;vaddr,
                       int&nbsp;maxLength)</code>
<div class="block">Read a null-terminated string from this process's virtual memory.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../nachos/userprog/UserProcess.html#restoreState--">restoreState</a></span>()</code>
<div class="block">Restore the state of this process after a context switch.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../nachos/userprog/UserProcess.html#saveState--">saveState</a></span>()</code>
<div class="block">Save the state of this process in preparation for a context switch.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../nachos/userprog/UserProcess.html#unloadSections--">unloadSections</a></span>()</code>
<div class="block">Release any resources allocated by <tt>loadSections()</tt>.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../nachos/userprog/UserProcess.html#writeVirtualMemory-int-byte:A-">writeVirtualMemory</a></span>(int&nbsp;vaddr,
                  byte[]&nbsp;data)</code>
<div class="block">Transfer all data from the specified array to this process's virtual
 memory.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../nachos/userprog/UserProcess.html#writeVirtualMemory-int-byte:A-int-int-">writeVirtualMemory</a></span>(int&nbsp;vaddr,
                  byte[]&nbsp;data,
                  int&nbsp;offset,
                  int&nbsp;length)</code>
<div class="block">Transfer data from the specified array to this process's virtual memory.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>从类继承的方法&nbsp;java.lang.<a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="java.lang中的类或接口">Object</a></h3>
<code><a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#clone--" title="java.lang中的类或接口">clone</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="java.lang中的类或接口">equals</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#finalize--" title="java.lang中的类或接口">finalize</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#getClass--" title="java.lang中的类或接口">getClass</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="java.lang中的类或接口">hashCode</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#notify--" title="java.lang中的类或接口">notify</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="java.lang中的类或接口">notifyAll</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#toString--" title="java.lang中的类或接口">toString</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait--" title="java.lang中的类或接口">wait</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="java.lang中的类或接口">wait</a>, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="java.lang中的类或接口">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>字段详细资料</h3>
<a name="coff">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>coff</h4>
<pre>protected&nbsp;<a href="../../nachos/machine/Coff.html" title="nachos.machine中的类">Coff</a> coff</pre>
<div class="block">The program being run by this process.</div>
</li>
</ul>
<a name="pageTable">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pageTable</h4>
<pre>protected&nbsp;<a href="../../nachos/machine/TranslationEntry.html" title="nachos.machine中的类">TranslationEntry</a>[] pageTable</pre>
<div class="block">This process's page table.</div>
</li>
</ul>
<a name="numPages">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>numPages</h4>
<pre>protected&nbsp;int numPages</pre>
<div class="block">The number of contiguous pages occupied by the program.</div>
</li>
</ul>
<a name="stackPages">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>stackPages</h4>
<pre>protected final&nbsp;int stackPages</pre>
<div class="block">The number of pages in the program's stack.</div>
<dl>
<dt><span class="seeLabel">另请参阅:</span></dt>
<dd><a href="../../constant-values.html#nachos.userprog.UserProcess.stackPages">常量字段值</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>构造器详细资料</h3>
<a name="UserProcess--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>UserProcess</h4>
<pre>public&nbsp;UserProcess()</pre>
<div class="block">Allocate a new process.</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>方法详细资料</h3>
<a name="newUserProcess--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newUserProcess</h4>
<pre>public static&nbsp;<a href="../../nachos/userprog/UserProcess.html" title="nachos.userprog中的类">UserProcess</a>&nbsp;newUserProcess()</pre>
<div class="block">Allocate and return a new process of the correct class. The class name
 is specified by the <tt>nachos.conf</tt> key
 <tt>Kernel.processClassName</tt>.</div>
<dl>
<dt><span class="returnLabel">返回:</span></dt>
<dd>a new process of the correct class.</dd>
</dl>
</li>
</ul>
<a name="execute-java.lang.String-java.lang.String:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>execute</h4>
<pre>public&nbsp;boolean&nbsp;execute(<a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&nbsp;name,
                       <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>[]&nbsp;args)</pre>
<div class="block">Execute the specified program with the specified arguments. Attempts to
 load the program, and then forks a thread to run it.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>name</code> - the name of the file containing the executable.</dd>
<dd><code>args</code> - the arguments to pass to the executable.</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd><tt>true</tt> if the program was successfully executed.</dd>
</dl>
</li>
</ul>
<a name="saveState--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>saveState</h4>
<pre>public&nbsp;void&nbsp;saveState()</pre>
<div class="block">Save the state of this process in preparation for a context switch.
 Called by <tt>UThread.saveState()</tt>.</div>
</li>
</ul>
<a name="restoreState--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>restoreState</h4>
<pre>public&nbsp;void&nbsp;restoreState()</pre>
<div class="block">Restore the state of this process after a context switch. Called by
 <tt>UThread.restoreState()</tt>.</div>
</li>
</ul>
<a name="readVirtualMemoryString-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readVirtualMemoryString</h4>
<pre>public&nbsp;<a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&nbsp;readVirtualMemoryString(int&nbsp;vaddr,
                                      int&nbsp;maxLength)</pre>
<div class="block">Read a null-terminated string from this process's virtual memory. Read
 at most <tt>maxLength + 1</tt> bytes from the specified address, search
 for the null terminator, and convert it to a <tt>java.lang.String</tt>,
 without including the null terminator. If no null terminator is found,
 returns <tt>null</tt>.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>vaddr</code> - the starting virtual address of the null-terminated
                        string.</dd>
<dd><code>maxLength</code> - the maximum number of characters in the string,
                                not including the null terminator.</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>the string read, or <tt>null</tt> if no null terminator was
                found.</dd>
</dl>
</li>
</ul>
<a name="readVirtualMemory-int-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readVirtualMemory</h4>
<pre>public&nbsp;int&nbsp;readVirtualMemory(int&nbsp;vaddr,
                             byte[]&nbsp;data)</pre>
<div class="block">Transfer data from this process's virtual memory to all of the specified
 array. Same as <tt>readVirtualMemory(vaddr, data, 0, data.length)</tt>.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>vaddr</code> - the first byte of virtual memory to read.</dd>
<dd><code>data</code> - the array where the data will be stored.</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>the number of bytes successfully transferred.</dd>
</dl>
</li>
</ul>
<a name="readVirtualMemory-int-byte:A-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readVirtualMemory</h4>
<pre>public&nbsp;int&nbsp;readVirtualMemory(int&nbsp;vaddr,
                             byte[]&nbsp;data,
                             int&nbsp;offset,
                             int&nbsp;length)</pre>
<div class="block">Transfer data from this process's virtual memory to the specified array.
 This method handles address translation details. This method must
 <i>not</i> destroy the current process if an error occurs, but instead
 should return the number of bytes successfully copied (or zero if no
 data could be copied).</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>vaddr</code> - the first byte of virtual memory to read.</dd>
<dd><code>data</code> - the array where the data will be stored.</dd>
<dd><code>offset</code> - the first byte to write in the array.</dd>
<dd><code>length</code> - the number of bytes to transfer from virtual memory to
                        the array.</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>the number of bytes successfully transferred.</dd>
</dl>
</li>
</ul>
<a name="writeVirtualMemory-int-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeVirtualMemory</h4>
<pre>public&nbsp;int&nbsp;writeVirtualMemory(int&nbsp;vaddr,
                              byte[]&nbsp;data)</pre>
<div class="block">Transfer all data from the specified array to this process's virtual
 memory.
 Same as <tt>writeVirtualMemory(vaddr, data, 0, data.length)</tt>.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>vaddr</code> - the first byte of virtual memory to write.</dd>
<dd><code>data</code> - the array containing the data to transfer.</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>the number of bytes successfully transferred.</dd>
</dl>
</li>
</ul>
<a name="writeVirtualMemory-int-byte:A-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeVirtualMemory</h4>
<pre>public&nbsp;int&nbsp;writeVirtualMemory(int&nbsp;vaddr,
                              byte[]&nbsp;data,
                              int&nbsp;offset,
                              int&nbsp;length)</pre>
<div class="block">Transfer data from the specified array to this process's virtual memory.
 This method handles address translation details. This method must
 <i>not</i> destroy the current process if an error occurs, but instead
 should return the number of bytes successfully copied (or zero if no
 data could be copied).</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>vaddr</code> - the first byte of virtual memory to write.</dd>
<dd><code>data</code> - the array containing the data to transfer.</dd>
<dd><code>offset</code> - the first byte to transfer from the array.</dd>
<dd><code>length</code> - the number of bytes to transfer from the array to
                        virtual memory.</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>the number of bytes successfully transferred.</dd>
</dl>
</li>
</ul>
<a name="loadSections--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loadSections</h4>
<pre>protected&nbsp;boolean&nbsp;loadSections()</pre>
<div class="block">Allocates memory for this process, and loads the COFF sections into
 memory. If this returns successfully, the process will definitely be
 run (this is the last step in process initialization that can fail).</div>
<dl>
<dt><span class="returnLabel">返回:</span></dt>
<dd><tt>true</tt> if the sections were successfully loaded.</dd>
</dl>
</li>
</ul>
<a name="unloadSections--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unloadSections</h4>
<pre>protected&nbsp;void&nbsp;unloadSections()</pre>
<div class="block">Release any resources allocated by <tt>loadSections()</tt>.</div>
</li>
</ul>
<a name="initRegisters--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initRegisters</h4>
<pre>public&nbsp;void&nbsp;initRegisters()</pre>
<div class="block">Initialize the processor's registers in preparation for running the
 program loaded into this process. Set the PC register to point at the
 start function, set the stack pointer register to point at the top of
 the stack, set the A0 and A1 registers to argc and argv, respectively,
 and initialize all other registers to 0.</div>
</li>
</ul>
<a name="handleSyscall-int-int-int-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleSyscall</h4>
<pre>public&nbsp;int&nbsp;handleSyscall(int&nbsp;syscall,
                         int&nbsp;a0,
                         int&nbsp;a1,
                         int&nbsp;a2,
                         int&nbsp;a3)</pre>
<div class="block">Handle a syscall exception. Called by <tt>handleException()</tt>. The
 <i>syscall</i> argument identifies which syscall the user executed:

 <table>
 <tr><td>syscall#</td><td>syscall prototype</td></tr>
 <tr><td>0</td><td><tt>void halt();</tt></td></tr>
 <tr><td>1</td><td><tt>void exit(int status);</tt></td></tr>
 <tr><td>2</td><td><tt>int  exec(char *name, int argc, char **argv);
                                                                </tt></td></tr>
 <tr><td>3</td><td><tt>int  join(int pid, int *status);</tt></td></tr>
 <tr><td>4</td><td><tt>int  creat(char *name);</tt></td></tr>
 <tr><td>5</td><td><tt>int  open(char *name);</tt></td></tr>
 <tr><td>6</td><td><tt>int  read(int fd, char *buffer, int size);
                                                                </tt></td></tr>
 <tr><td>7</td><td><tt>int  write(int fd, char *buffer, int size);
                                                                </tt></td></tr>
 <tr><td>8</td><td><tt>int  close(int fd);</tt></td></tr>
 <tr><td>9</td><td><tt>int  unlink(char *name);</tt></td></tr>
 </table></div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>syscall</code> - the syscall number.</dd>
<dd><code>a0</code> - the first syscall argument.</dd>
<dd><code>a1</code> - the second syscall argument.</dd>
<dd><code>a2</code> - the third syscall argument.</dd>
<dd><code>a3</code> - the fourth syscall argument.</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>the value to be returned to the user.</dd>
</dl>
</li>
</ul>
<a name="handleException-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>handleException</h4>
<pre>public&nbsp;void&nbsp;handleException(int&nbsp;cause)</pre>
<div class="block">Handle a user exception. Called by
 <tt>UserKernel.exceptionHandler()</tt>. The
 <i>cause</i> argument identifies which exception occurred; see the
 <tt>Processor.exceptionZZZ</tt> constants.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>cause</code> - the user exception that occurred.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="跳过导航链接">跳过导航链接</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../deprecated-list.html">已过时</a></li>
<li><a href="../../index-all.html">索引</a></li>
<li><a href="../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../nachos/userprog/UserKernel.html" title="nachos.userprog中的类"><span class="typeNameLink">上一个类</span></a></li>
<li><a href="../../nachos/userprog/UThread.html" title="nachos.userprog中的类"><span class="typeNameLink">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?nachos/userprog/UserProcess.html" target="_top">框架</a></li>
<li><a href="UserProcess.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li>嵌套&nbsp;|&nbsp;</li>
<li><a href="#field.summary">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li><a href="#field.detail">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">方法</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
